<? namespace Bitrix\Main;$GLOBALS['____1908644787']= array(base64_decode(''.'Zml'.'sZV9'.'leGl'.'zdHM'.'='),base64_decode('c3Ry'.'dG'.'91cHBlc'.'g=='),base64_decode(''.'bWQ1'),base64_decode('bWQ1'),base64_decode('a'.'W5'.'fY'.'XJ'.'y'.'YXk='),base64_decode('aW5fYXJyYXk='),base64_decode('aW'.'5'.'fYXJyY'.'Xk='),base64_decode('ZGVmaW5lZ'.'A=='),base64_decode('Z'.'GVmaW5lZA=='),base64_decode('ZGVmaW5lZA=='),base64_decode('ZmlsZV'.'9leGlzd'.'HM='),base64_decode('Zml'.'sZV'.'9'.'leG'.'l'.'zdHM='),base64_decode(''.'ZmlsZV9leGlzdHM='),base64_decode('Z'.'mlsZ'.'V9leG'.'lzd'.'HM='),base64_decode('ZXhwbG9kZQ='.'='));if(!function_exists(__NAMESPACE__.'\\___2010499851')){function ___2010499851($_997939114){static $_1727632650= false; if($_1727632650 == false) $_1727632650=array(''.'L2Jpd'.'HJ'.'peC9saW'.'NlbnN'.'lX2tleS5'.'waH'.'A=','','','REVNTw==','REV'.'NTw==','Q'.'klU'.'UklY','TE'.'lDRU5DR'.'Q==','REVN'.'Tw==','L'.'2t'.'leV91'.'c'.'GRhdG'.'UucGhw'.'P2xpY'.'2Vuc2Vfa'.'2'.'V5P'.'Q==','JnRvYmFza2V0PXkmb'.'GFu'.'Zz0=','c'.'n'.'U=',''.'a3'.'o=',''.'Ynk=',''.'a'.'H'.'R'.'0cHM6Ly9'.'kZXYu'.'MWM'.'tYml0cm'.'l4LnJ1L2xlYXJuaW5nL'.'2N'.'vd'.'X'.'JzZS9pbmRleC5waHA/Q09VUlNFX0l'.'EP'.'TE'.'zN'.'S'.'ZMRVNTT05fSUQ9MjU3MjA=',''.'aHR0cHM6Ly90c'.'m'.'Fp'.'bm'.'luZy5'.'iaXRy'.'aXg'.'yNC5jb20vc3VwcG'.'9ydC90cmFp'.'bmluZ'.'y9jb3Vyc2UvaW5k'.'ZX'.'g'.'u'.'c'.'Gh'.'wP'.'0N'.'P'.'V'.'VJTRV9J'.'RD0xNzg'.'m'.'TEVTU09OX'.'0l'.'EPT'.'I'.'1OT'.'My'.'Jkx'.'FU1NPTl9QQVR'.'IPT'.'E3NTIwLjE'.'3NTYyLjI1'.'OTMwLjI1OTMy',''.'c'.'n'.'U=','Ynk=','a3o=',''.'ZGU=','ZXU=','Zn'.'I=','cGw=',''.'aXQ=','dWs=','ZXU=','Y29t','Z'.'W4=','RE'.'VNTw==','WQ='.'=','V'.'ElNRUxJTUlUX0VE'.'S'.'VR'.'JT04=',''.'WQ==','R'.'U5DT0RF','W'.'Q==',''.'U'.'2l'.'0ZUV4cGly'.'ZURhdGU=',''.'b'.'W'.'Fpb'.'g'.'==','fnN1'.'cHBvcnRfZmluaXNoX2Rh'.'dGU=','WS1tLWQ=','W'.'S1tLWQ=','Yml'.'0c'.'m'.'l4MjQ=',''.'bW'.'Fpbg==','flBB'.'UkFNX0NMSUVOVF9MQU'.'5H',''.'aW50cm'.'FuZXQ=','ZW4=',''.'c'.'n'.'U'.'=','b'.'WFpb'.'g==','dmVuZG9y','dWF'.'fY'.'ml0cml4X3'.'Bv'.'cnRhbA==','dWE=',''.'Yml0cml4X3'.'B'.'vcnRh'.'bA==',''.'ZW4=','M'.'W'.'NfYm'.'l0cm'.'l4'.'X3'.'Bv'.'cnRhbA==','cn'.'U=',''.'L2Jp'.'dHJ'.'peC9'.'t'.'b'.'2R1bGVzL21haW4vbG'.'Fu'.'Zy91Y'.'Q==','dWE=','L2JpdHJpeC'.'9tb2R1bGV'.'zL21ha'.'W'.'4vb'.'G'.'F'.'uZy9'.'ie'.'Q'.'='.'=','Y'.'n'.'k=','L2JpdHJpeC9tb2'.'R1bGVzL21h'.'aW4vb'.'G'.'FuZy9reg==','a3'.'o'.'=','L2JpdHJp'.'eC9'.'tb2R1bGVz'.'L2'.'1haW4vbGF'.'u'.'Zy'.'9ydQ==','cnU=','bWF'.'pbg==','flBBUkFNX1'.'B'.'BUlRORVJfS'.'UQ=',''.'bW'.'Fpbg'.'==','UEFSQU1fT'.'UFYX1V'.'T'.'RV'.'JT','bWFpbg==',''.'fkN'.'PVU5U'.'X'.'0'.'VY'.'VFJB','Tg==','WQ==',''.'Z'.'Xh0'.'cmFuZXQ=','QU5EIFUuTEFTVF9'.'MT0dJT'.'iA+'.'IA==','QU'.'5EIF'.'Uu'.'T'.'EFT'.'V'.'F'.'9M'.'T0dJTiBJUyBOT1QgT'.'l'.'VMTA'.'==','aW50cmFuZXQ=','ZXh'.'0cmFuZXQ=',''.'ZXh0cmFu'.'ZXRf'.'Z3'.'Jvd'.'XA=','bWF'.'pbg==','fmxpY2'.'Vuc2Vf'.'bmFtZQ==','b'.'WFpbg='.'=','fmxpY2Vuc2'.'VfY'.'29kZXM=','','L'.'A==');return base64_decode($_1727632650[$_997939114]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_215436996= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_215436996 === null){ $_1679590188= Loader::getDocumentRoot(). ___2010499851(0); $LICENSE_KEY= ___2010499851(1); if($GLOBALS['____1908644787'][0]($_1679590188)){ include($_1679590188);} $this->_215436996=($LICENSE_KEY == ___2010499851(2) || $GLOBALS['____1908644787'][1]($LICENSE_KEY) == ___2010499851(3)? ___2010499851(4): $LICENSE_KEY);} return $this->_215436996;} public function getHashLicenseKey(): string{ return $GLOBALS['____1908644787'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1908644787'][3](___2010499851(5). $this->getKey(). ___2010499851(6));} public function isDemoKey(): bool{ return $this->getKey() == ___2010499851(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___2010499851(8). $this->getHashLicenseKey(). ___2010499851(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1966336547= $this->getRegion(); if($GLOBALS['____1908644787'][4]($_1966336547,[___2010499851(10), ___2010499851(11), ___2010499851(12)])){ return ___2010499851(13);} return ___2010499851(14);} public function getRenewalLink(): string{ $_1966336547= $this->getRegion(); if($GLOBALS['____1908644787'][5]($_1966336547,[___2010499851(15), ___2010499851(16), ___2010499851(17), ___2010499851(18)])){ return self::URL_RENEWAL_LICENSE[$_1966336547];} if($GLOBALS['____1908644787'][6]($_1966336547,[___2010499851(19), ___2010499851(20), ___2010499851(21), ___2010499851(22), ___2010499851(23)])){ return self::URL_RENEWAL_LICENSE[___2010499851(24)];} return self::URL_RENEWAL_LICENSE[___2010499851(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___2010499851(26)];} public function isDemo(): bool{ return $GLOBALS['____1908644787'][7](___2010499851(27)) && DEMO === ___2010499851(28);} public function isTimeBound(): bool{ return $GLOBALS['____1908644787'][8](___2010499851(29)) && TIMELIMIT_EDITION === ___2010499851(30);} public function isEncoded(): bool{ return $GLOBALS['____1908644787'][9](___2010499851(31)) && ENCODE === ___2010499851(32);} public function getExpireDate():?Date{ $_84479425= (int)($GLOBALS[___2010499851(33)] ??(900-2*450)); if($_84479425> min(152,0,50.666666666667)){ return Date::createFromTimestamp($_84479425);} return null;} public function getSupportExpireDate():?Date{ $_84479425= Option::get(___2010499851(34), ___2010499851(35)); if(Date::isCorrect($_84479425, ___2010499851(36))){ return new Date($_84479425, ___2010499851(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___2010499851(38))){ return \CBitrix24::getPortalZone();} $_1966336547= Option::get(___2010499851(39), ___2010499851(40)); if(!empty($_1966336547)){ return $_1966336547;} $_1966336547= $this->__1408107791(); if(!empty($_1966336547)){ return $_1966336547;} return $this->__233159238();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___2010499851(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___2010499851(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___2010499851(43)];} private function __1408107791():?string{ $_1495932998= Option::get(___2010499851(44), ___2010499851(45)); if($_1495932998 === ___2010499851(46)){ return ___2010499851(47);} if($_1495932998 === ___2010499851(48)){ return ___2010499851(49);} if($_1495932998 === ___2010499851(50)){ return ___2010499851(51);} return null;} private function __233159238():?string{ $_19379826= Application::getDocumentRoot(); if($GLOBALS['____1908644787'][10]($_19379826. ___2010499851(52))){ return ___2010499851(53);} if($GLOBALS['____1908644787'][11]($_19379826. ___2010499851(54))){ return ___2010499851(55);} if($GLOBALS['____1908644787'][12]($_19379826. ___2010499851(56))){ return ___2010499851(57);} if($GLOBALS['____1908644787'][13]($_19379826. ___2010499851(58))){ return ___2010499851(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___2010499851(60), ___2010499851(61),(1236/2-618));} public function getMaxUsers(): int{ return (int)Option::get(___2010499851(62), ___2010499851(63),(215*2-430));} public function isExtraCountable(): bool{ return Option::get(___2010499851(64), ___2010499851(65), ___2010499851(66)) === ___2010499851(67) && ModuleManager::isModuleInstalled(___2010499851(68));} public function getActiveUsersCount(Date $_1232470845= null): int{ $_1980567571= Application::getConnection(); $_1705128955=(878-2*439); if($_1232470845 !== null){  $_1203125949= ___2010499851(69).$_1980567571->getSqlHelper()->convertToDbDate($_1232470845);} else{  $_1203125949= ___2010499851(70);} if(ModuleManager::isModuleInstalled(___2010499851(71))){ $_963293289="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1203125949}
			"; $_1705128955= (int)$_1980567571->queryScalar($_963293289); $_1636508123= (int)Option::get(___2010499851(72), ___2010499851(73)); if($_1636508123>(758-2*379) && $this->isExtraCountable()){ $_963293289="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1636508123}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1203125949}
							AND D.VALUE_ID IS NULL
					"; $_1705128955 += (int)$_1980567571->queryScalar($_963293289);}} return $_1705128955;}  public function getName(): string{ return Option::get(___2010499851(74), ___2010499851(75));}  public function getCodes(): array{ $_2118360558= Option::get(___2010499851(76), ___2010499851(77)); if($_2118360558 != ___2010499851(78)){ return $GLOBALS['____1908644787'][14](___2010499851(79), $_2118360558);} return[];}}?>